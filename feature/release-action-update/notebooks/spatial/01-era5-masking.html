

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Masking data-cubes using geometry objects &mdash; earthkit-transforms  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css?v=2aa19091" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reducing data-cubes using geometry objects" href="02-era5-reduce-data-over-geometries.html" />
    <link rel="prev" title="Spatial examples" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            earthkit-transforms
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../aggregate-examples.html">Aggregation examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../temporal/index.html">Temporal examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../climatology/index.html">Climatology examples</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Spatial examples</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Masking data-cubes using geometry objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Load-some-test-data">Load some test data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Mask-dataarray-with-geodataframe">Mask dataarray with geodataframe</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02-era5-reduce-data-over-geometries.html">Reducing data-cubes using geometry objects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../guide/index.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../_api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licence.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://earthkit.readthedocs.io/en/latest">earthkit</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">earthkit-transforms</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../aggregate-examples.html">Aggregation examples</a></li>
          <li class="breadcrumb-item"><a href="index.html">Spatial examples</a></li>
      <li class="breadcrumb-item active">Masking data-cubes using geometry objects</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/spatial/01-era5-masking.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Masking-data-cubes-using-geometry-objects">
<h1>Masking data-cubes using geometry objects<a class="headerlink" href="#Masking-data-cubes-using-geometry-objects" title="Link to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">earthkit</span><span class="w"> </span><span class="kn">import</span> <span class="n">transforms</span> <span class="k">as</span> <span class="n">ekt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">earthkit</span><span class="w"> </span><span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">ekd</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">earthkit.data.testing</span><span class="w"> </span><span class="kn">import</span> <span class="n">earthkit_remote_test_data_file</span>
</pre></div>
</div>
</div>
<section id="Load-some-test-data">
<h2>Load some test data<a class="headerlink" href="#Load-some-test-data" title="Link to this heading"></a></h2>
<p>All <code class="docutils literal notranslate"><span class="pre">earthkit-transforms</span></code> methods can be called with <code class="docutils literal notranslate"><span class="pre">earthkit-data</span></code> objects (Readers and Wrappers) or with the pre-loaded <code class="docutils literal notranslate"><span class="pre">xarray</span></code> or <code class="docutils literal notranslate"><span class="pre">geopandas</span></code> objects.</p>
<p>In this example we will use hourly ERA5 2m temperature data on a 0.5x0.5 spatial grid for the year 2015 as our physical data; and we will use the NUTS geometries which are stored in a geojson file.</p>
<p>First we lazily load the ERA5 data and NUTS geometries from our test-data repository.</p>
<p>Note the data is only downloaded when we use it, e.g. at the <code class="docutils literal notranslate"><span class="pre">.to_xarray</span></code> line, additionally, the download is cached so the next time you run this cell you will not need to re-download the file (unless it has been a very long time since you have run the code, please see tutorials in <code class="docutils literal notranslate"><span class="pre">earthkit-data</span></code> for more details in cache management).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get some demonstration ERA5 data, this could be any url or path to an ERA5 grib or netCDF file.</span>
<span class="c1"># remote_era5_file = earthkit_remote_test_data_file(&quot;test-data&quot;, &quot;era5_temperature_europe_2015.grib&quot;) # Large file</span>
<span class="n">remote_era5_file</span> <span class="o">=</span> <span class="n">earthkit_remote_test_data_file</span><span class="p">(</span><span class="s2">&quot;test-data&quot;</span><span class="p">,</span> <span class="s2">&quot;era5_temperature_europe_20150101.grib&quot;</span><span class="p">)</span>
<span class="n">era5_data</span> <span class="o">=</span> <span class="n">ekd</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">remote_era5_file</span><span class="p">)</span>

<span class="c1"># Open as an xarray dataset, renaming the 2m temperature variable to something more manageable</span>
<span class="n">era5_xr</span> <span class="o">=</span> <span class="n">era5_data</span><span class="o">.</span><span class="n">to_xarray</span><span class="p">(</span><span class="n">time_dim_mode</span><span class="o">=</span><span class="s2">&quot;valid_time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;2t&quot;</span><span class="p">:</span> <span class="s2">&quot;t2m&quot;</span><span class="p">})</span>
<span class="n">era5_xr</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 11MB
Dimensions:     (valid_time: 24, latitude: 201, longitude: 281)
Coordinates:
  * valid_time  (valid_time) datetime64[ns] 192B 2015-01-01 ... 2015-01-01T23...
  * latitude    (latitude) float64 2kB 80.0 79.75 79.5 79.25 ... 30.5 30.25 30.0
  * longitude   (longitude) float64 2kB -10.0 -9.75 -9.5 ... 59.5 59.75 60.0
Data variables:
    t2m         (valid_time, latitude, longitude) float64 11MB ...
Attributes: (12/13)
    param:        2t
    paramId:      167
    class:        ea
    stream:       oper
    levtype:      sfc
    type:         an
    ...           ...
    date:         20150101
    time:         0
    domain:       g
    number:       0
    Conventions:  CF-1.8
    institution:  ECMWF</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-02f01b96-14b0-46ca-be41-a1b3c403841a' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-02f01b96-14b0-46ca-be41-a1b3c403841a' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>valid_time</span>: 24</li><li><span class='xr-has-index'>latitude</span>: 201</li><li><span class='xr-has-index'>longitude</span>: 281</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-a273660a-15f5-4636-96fd-b8a4c49c44ac' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a273660a-15f5-4636-96fd-b8a4c49c44ac' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>valid_time</span></div><div class='xr-var-dims'>(valid_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2015-01-01 ... 2015-01-01T23:00:00</div><input id='attrs-ebc9a834-b864-43a5-bf05-867945d66dbf' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-ebc9a834-b864-43a5-bf05-867945d66dbf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-31a3f126-db5b-4ecd-8a6c-89454f6fafc4' class='xr-var-data-in' type='checkbox'><label for='data-31a3f126-db5b-4ecd-8a6c-89454f6fafc4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>valid_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2015-01-01T00:00:00.000000000&#x27;, &#x27;2015-01-01T01:00:00.000000000&#x27;,
       &#x27;2015-01-01T02:00:00.000000000&#x27;, &#x27;2015-01-01T03:00:00.000000000&#x27;,
       &#x27;2015-01-01T04:00:00.000000000&#x27;, &#x27;2015-01-01T05:00:00.000000000&#x27;,
       &#x27;2015-01-01T06:00:00.000000000&#x27;, &#x27;2015-01-01T07:00:00.000000000&#x27;,
       &#x27;2015-01-01T08:00:00.000000000&#x27;, &#x27;2015-01-01T09:00:00.000000000&#x27;,
       &#x27;2015-01-01T10:00:00.000000000&#x27;, &#x27;2015-01-01T11:00:00.000000000&#x27;,
       &#x27;2015-01-01T12:00:00.000000000&#x27;, &#x27;2015-01-01T13:00:00.000000000&#x27;,
       &#x27;2015-01-01T14:00:00.000000000&#x27;, &#x27;2015-01-01T15:00:00.000000000&#x27;,
       &#x27;2015-01-01T16:00:00.000000000&#x27;, &#x27;2015-01-01T17:00:00.000000000&#x27;,
       &#x27;2015-01-01T18:00:00.000000000&#x27;, &#x27;2015-01-01T19:00:00.000000000&#x27;,
       &#x27;2015-01-01T20:00:00.000000000&#x27;, &#x27;2015-01-01T21:00:00.000000000&#x27;,
       &#x27;2015-01-01T22:00:00.000000000&#x27;, &#x27;2015-01-01T23:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>80.0 79.75 79.5 ... 30.5 30.25 30.0</div><input id='attrs-970b90e8-36c9-4143-9c58-e64350c84a73' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-970b90e8-36c9-4143-9c58-e64350c84a73' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-dad04f9e-0c0f-4d79-9206-ec1611f40d87' class='xr-var-data-in' type='checkbox'><label for='data-dad04f9e-0c0f-4d79-9206-ec1611f40d87' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([80.  , 79.75, 79.5 , ..., 30.5 , 30.25, 30.  ], shape=(201,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-10.0 -9.75 -9.5 ... 59.75 60.0</div><input id='attrs-5bde5048-fda1-44fd-9123-d23f79108103' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-5bde5048-fda1-44fd-9123-d23f79108103' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5309cb35-15d6-4ea3-a3e5-1e89853950c6' class='xr-var-data-in' type='checkbox'><label for='data-5309cb35-15d6-4ea3-a3e5-1e89853950c6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([-10.  ,  -9.75,  -9.5 , ...,  59.5 ,  59.75,  60.  ], shape=(281,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7993bb12-f154-4778-8fed-223eb438d242' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7993bb12-f154-4778-8fed-223eb438d242' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>t2m</span></div><div class='xr-var-dims'>(valid_time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-83280469-ecef-42e9-b112-39097371ab97' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-83280469-ecef-42e9-b112-39097371ab97' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b969844b-631d-43e8-b654-313ae3278bb2' class='xr-var-data-in' type='checkbox'><label for='data-b969844b-631d-43e8-b654-313ae3278bb2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>unknown</dd><dt><span>long_name :</span></dt><dd>2 metre temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>_earthkit :</span></dt><dd>{&#x27;message&#x27;: b&quot;GRIB\x00\x00l\x01\x00\x004\x80b\xff\xff\x80\xa7\x01\x00\x00\x0f\x01\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x02\x04\x010001\x00\x00\x00\x00\x00 \x00\xff\x00\x01\x19\x00\xc9\x018\x80\x80&#x27;\x10\x80\x00u0\x00\xea`\x00\xfa\x00\xfa\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x80\x02D\xb9}n\x00\x007777&quot;, &#x27;bitsPerValue&#x27;: 16}</dd></dl></div><div class='xr-var-data'><pre>[1355544 values with dtype=float64]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-122c4919-61ea-4405-a6d9-fe7aaaa67ede' class='xr-section-summary-in' type='checkbox'  ><label for='section-122c4919-61ea-4405-a6d9-fe7aaaa67ede' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>valid_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-71a18e1c-09a9-47ef-a750-fcd94abee70d' class='xr-index-data-in' type='checkbox'/><label for='index-71a18e1c-09a9-47ef-a750-fcd94abee70d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2015-01-01 00:00:00&#x27;, &#x27;2015-01-01 01:00:00&#x27;,
               &#x27;2015-01-01 02:00:00&#x27;, &#x27;2015-01-01 03:00:00&#x27;,
               &#x27;2015-01-01 04:00:00&#x27;, &#x27;2015-01-01 05:00:00&#x27;,
               &#x27;2015-01-01 06:00:00&#x27;, &#x27;2015-01-01 07:00:00&#x27;,
               &#x27;2015-01-01 08:00:00&#x27;, &#x27;2015-01-01 09:00:00&#x27;,
               &#x27;2015-01-01 10:00:00&#x27;, &#x27;2015-01-01 11:00:00&#x27;,
               &#x27;2015-01-01 12:00:00&#x27;, &#x27;2015-01-01 13:00:00&#x27;,
               &#x27;2015-01-01 14:00:00&#x27;, &#x27;2015-01-01 15:00:00&#x27;,
               &#x27;2015-01-01 16:00:00&#x27;, &#x27;2015-01-01 17:00:00&#x27;,
               &#x27;2015-01-01 18:00:00&#x27;, &#x27;2015-01-01 19:00:00&#x27;,
               &#x27;2015-01-01 20:00:00&#x27;, &#x27;2015-01-01 21:00:00&#x27;,
               &#x27;2015-01-01 22:00:00&#x27;, &#x27;2015-01-01 23:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;valid_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-18d1911e-6d6a-421a-8c8b-7b539cc4b0f9' class='xr-index-data-in' type='checkbox'/><label for='index-18d1911e-6d6a-421a-8c8b-7b539cc4b0f9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 80.0, 79.75,  79.5, 79.25,  79.0, 78.75,  78.5, 78.25,  78.0, 77.75,
       ...
       32.25,  32.0, 31.75,  31.5, 31.25,  31.0, 30.75,  30.5, 30.25,  30.0],
      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=201))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-a153d596-58d1-41ce-b711-a70f42092776' class='xr-index-data-in' type='checkbox'/><label for='index-a153d596-58d1-41ce-b711-a70f42092776' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-10.0, -9.75,  -9.5, -9.25,  -9.0, -8.75,  -8.5, -8.25,  -8.0, -7.75,
       ...
       57.75,  58.0, 58.25,  58.5, 58.75,  59.0, 59.25,  59.5, 59.75,  60.0],
      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=281))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d30e5185-ed7e-4138-b517-9eaa1d7d12bb' class='xr-section-summary-in' type='checkbox'  ><label for='section-d30e5185-ed7e-4138-b517-9eaa1d7d12bb' class='xr-section-summary' >Attributes: <span>(13)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>param :</span></dt><dd>2t</dd><dt><span>paramId :</span></dt><dd>167</dd><dt><span>class :</span></dt><dd>ea</dd><dt><span>stream :</span></dt><dd>oper</dd><dt><span>levtype :</span></dt><dd>sfc</dd><dt><span>type :</span></dt><dd>an</dd><dt><span>expver :</span></dt><dd>0001</dd><dt><span>date :</span></dt><dd>20150101</dd><dt><span>time :</span></dt><dd>0</dd><dt><span>domain :</span></dt><dd>g</dd><dt><span>number :</span></dt><dd>0</dd><dt><span>Conventions :</span></dt><dd>CF-1.8</dd><dt><span>institution :</span></dt><dd>ECMWF</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use some demonstration polygons stored, this could be any url or path to geojson file</span>
<span class="n">remote_nuts_url</span> <span class="o">=</span> <span class="n">earthkit_remote_test_data_file</span><span class="p">(</span><span class="s2">&quot;test-data&quot;</span><span class="p">,</span> <span class="s2">&quot;NUTS_RG_60M_2021_4326_LEVL_0.geojson&quot;</span><span class="p">)</span>
<span class="n">nuts_data</span> <span class="o">=</span> <span class="n">ekd</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="n">remote_nuts_url</span><span class="p">)</span>

<span class="n">nuts_data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>NUTS_ID</th>
      <th>LEVL_CODE</th>
      <th>CNTR_CODE</th>
      <th>NAME_LATN</th>
      <th>NUTS_NAME</th>
      <th>MOUNT_TYPE</th>
      <th>URBN_TYPE</th>
      <th>COAST_TYPE</th>
      <th>FID</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>DK</td>
      <td>DK</td>
      <td>0</td>
      <td>DK</td>
      <td>Danmark</td>
      <td>Danmark</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>DK</td>
      <td>MULTIPOLYGON (((15.1629 55.0937, 15.094 54.996...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>RS</td>
      <td>RS</td>
      <td>0</td>
      <td>RS</td>
      <td>Serbia</td>
      <td>Srbija/Сpбија</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>RS</td>
      <td>POLYGON ((21.4792 45.193, 21.3585 44.8216, 22....</td>
    </tr>
    <tr>
      <th>2</th>
      <td>EE</td>
      <td>EE</td>
      <td>0</td>
      <td>EE</td>
      <td>Eesti</td>
      <td>Eesti</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>EE</td>
      <td>MULTIPOLYGON (((27.357 58.7871, 27.6449 57.981...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>EL</td>
      <td>EL</td>
      <td>0</td>
      <td>EL</td>
      <td>Elláda</td>
      <td>Ελλάδα</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>EL</td>
      <td>MULTIPOLYGON (((28.0777 36.1182, 27.8606 35.92...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ES</td>
      <td>ES</td>
      <td>0</td>
      <td>ES</td>
      <td>España</td>
      <td>España</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>ES</td>
      <td>MULTIPOLYGON (((4.391 39.8617, 4.1907 39.7981,...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="Mask-dataarray-with-geodataframe">
<h2>Mask dataarray with geodataframe<a class="headerlink" href="#Mask-dataarray-with-geodataframe" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">shapes.mask</span></code> applies all the features in the geometry object (<code class="docutils literal notranslate"><span class="pre">nuts_data</span></code>) to the data object (<code class="docutils literal notranslate"><span class="pre">era5_data</span></code>). It returns an xarray object the same shape and type as the input xarray object with all points outside of the geometry masked</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">single_masked_data</span> <span class="o">=</span> <span class="n">ekt</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">era5_xr</span><span class="p">,</span> <span class="n">nuts_data</span><span class="p">,</span> <span class="n">union_geometries</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">single_masked_data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 11MB
Dimensions:     (valid_time: 24, latitude: 201, longitude: 281)
Coordinates:
  * valid_time  (valid_time) datetime64[ns] 192B 2015-01-01 ... 2015-01-01T23...
  * latitude    (latitude) float64 2kB 80.0 79.75 79.5 79.25 ... 30.5 30.25 30.0
  * longitude   (longitude) float64 2kB -10.0 -9.75 -9.5 ... 59.5 59.75 60.0
Data variables:
    t2m         (valid_time, latitude, longitude) float64 11MB dask.array&lt;chunksize=(24, 201, 281), meta=np.ndarray&gt;
Attributes: (12/13)
    param:        2t
    paramId:      167
    class:        ea
    stream:       oper
    levtype:      sfc
    type:         an
    ...           ...
    date:         20150101
    time:         0
    domain:       g
    number:       0
    Conventions:  CF-1.8
    institution:  ECMWF</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-c1200089-eec6-46fa-a5a7-4b5a7adfcfc0' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-c1200089-eec6-46fa-a5a7-4b5a7adfcfc0' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>valid_time</span>: 24</li><li><span class='xr-has-index'>latitude</span>: 201</li><li><span class='xr-has-index'>longitude</span>: 281</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-5fdc1237-99e4-4f6d-bf07-4d17e41955ef' class='xr-section-summary-in' type='checkbox'  checked><label for='section-5fdc1237-99e4-4f6d-bf07-4d17e41955ef' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>valid_time</span></div><div class='xr-var-dims'>(valid_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2015-01-01 ... 2015-01-01T23:00:00</div><input id='attrs-1b7271fd-361b-4d81-8fa4-c8bd5134e4d7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1b7271fd-361b-4d81-8fa4-c8bd5134e4d7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3c9ee78f-8647-4e80-923b-3a57bd5e7686' class='xr-var-data-in' type='checkbox'><label for='data-3c9ee78f-8647-4e80-923b-3a57bd5e7686' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>valid_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2015-01-01T00:00:00.000000000&#x27;, &#x27;2015-01-01T01:00:00.000000000&#x27;,
       &#x27;2015-01-01T02:00:00.000000000&#x27;, &#x27;2015-01-01T03:00:00.000000000&#x27;,
       &#x27;2015-01-01T04:00:00.000000000&#x27;, &#x27;2015-01-01T05:00:00.000000000&#x27;,
       &#x27;2015-01-01T06:00:00.000000000&#x27;, &#x27;2015-01-01T07:00:00.000000000&#x27;,
       &#x27;2015-01-01T08:00:00.000000000&#x27;, &#x27;2015-01-01T09:00:00.000000000&#x27;,
       &#x27;2015-01-01T10:00:00.000000000&#x27;, &#x27;2015-01-01T11:00:00.000000000&#x27;,
       &#x27;2015-01-01T12:00:00.000000000&#x27;, &#x27;2015-01-01T13:00:00.000000000&#x27;,
       &#x27;2015-01-01T14:00:00.000000000&#x27;, &#x27;2015-01-01T15:00:00.000000000&#x27;,
       &#x27;2015-01-01T16:00:00.000000000&#x27;, &#x27;2015-01-01T17:00:00.000000000&#x27;,
       &#x27;2015-01-01T18:00:00.000000000&#x27;, &#x27;2015-01-01T19:00:00.000000000&#x27;,
       &#x27;2015-01-01T20:00:00.000000000&#x27;, &#x27;2015-01-01T21:00:00.000000000&#x27;,
       &#x27;2015-01-01T22:00:00.000000000&#x27;, &#x27;2015-01-01T23:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>80.0 79.75 79.5 ... 30.5 30.25 30.0</div><input id='attrs-681c32c2-6e9a-4ec0-8a76-bf8cc74aa9e1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-681c32c2-6e9a-4ec0-8a76-bf8cc74aa9e1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f59a195-ec51-42f0-942c-9f20e38b464c' class='xr-var-data-in' type='checkbox'><label for='data-9f59a195-ec51-42f0-942c-9f20e38b464c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([80.  , 79.75, 79.5 , ..., 30.5 , 30.25, 30.  ], shape=(201,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-10.0 -9.75 -9.5 ... 59.75 60.0</div><input id='attrs-6e27d3a6-d9ac-4b9b-a4f0-1763766974a5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6e27d3a6-d9ac-4b9b-a4f0-1763766974a5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-28f9d6dc-b8cd-4e20-b789-5a4ea643c179' class='xr-var-data-in' type='checkbox'><label for='data-28f9d6dc-b8cd-4e20-b789-5a4ea643c179' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([-10.  ,  -9.75,  -9.5 , ...,  59.5 ,  59.75,  60.  ], shape=(281,))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b5c57b88-6cce-4cfb-8b4a-cc756ebc2f49' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b5c57b88-6cce-4cfb-8b4a-cc756ebc2f49' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>t2m</span></div><div class='xr-var-dims'>(valid_time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(24, 201, 281), meta=np.ndarray&gt;</div><input id='attrs-b212ad99-dbd3-452a-babd-dec4310dfdac' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b212ad99-dbd3-452a-babd-dec4310dfdac' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5cca9328-233a-41ae-a9b4-f160c4597e2e' class='xr-var-data-in' type='checkbox'><label for='data-5cca9328-233a-41ae-a9b4-f160c4597e2e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>unknown</dd><dt><span>long_name :</span></dt><dd>2 metre temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>_earthkit :</span></dt><dd>{&#x27;message&#x27;: b&quot;GRIB\x00\x00l\x01\x00\x004\x80b\xff\xff\x80\xa7\x01\x00\x00\x0f\x01\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x02\x04\x010001\x00\x00\x00\x00\x00 \x00\xff\x00\x01\x19\x00\xc9\x018\x80\x80&#x27;\x10\x80\x00u0\x00\xea`\x00\xfa\x00\xfa\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x80\x02D\xb9}n\x00\x007777&quot;, &#x27;bitsPerValue&#x27;: 16}</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 10.34 MiB </td>
                        <td> 10.34 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (24, 201, 281) </td>
                        <td> (24, 201, 281) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 1 chunks in 1 graph layer </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="202" height="158" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="32" y2="22" style="stroke-width:2" />
  <line x1="10" y1="85" x2="32" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="10" y2="85" style="stroke-width:2" />
  <line x1="32" y1="22" x2="32" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 32.179719899693936,22.179719899693932 32.179719899693936,108.01601883207827 10.0,85.83629893238434" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="10" y1="0" x2="130" y2="0" style="stroke-width:2" />
  <line x1="32" y1="22" x2="152" y2="22" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="10" y1="0" x2="32" y2="22" style="stroke-width:2" />
  <line x1="130" y1="0" x2="152" y2="22" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="10.0,0.0 130.0,0.0 152.17971989969394,22.179719899693932 32.179719899693936,22.179719899693932" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="32" y1="22" x2="152" y2="22" style="stroke-width:2" />
  <line x1="32" y1="108" x2="152" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="32" y1="22" x2="32" y2="108" style="stroke-width:2" />
  <line x1="152" y1="22" x2="152" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="32.179719899693936,22.179719899693932 152.17971989969394,22.179719899693932 152.17971989969394,108.01601883207827 32.179719899693936,108.01601883207827" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="92.179720" y="128.016019" font-size="1.0rem" font-weight="100" text-anchor="middle" >281</text>
  <text x="172.179720" y="65.097869" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,172.179720,65.097869)">201</text>
  <text x="11.089860" y="116.926159" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,11.089860,116.926159)">24</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-244754f8-d2a0-4338-9312-1fa2eac23e2a' class='xr-section-summary-in' type='checkbox'  ><label for='section-244754f8-d2a0-4338-9312-1fa2eac23e2a' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>valid_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2bbdcfd8-2026-426f-bb53-bd4a135a3791' class='xr-index-data-in' type='checkbox'/><label for='index-2bbdcfd8-2026-426f-bb53-bd4a135a3791' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2015-01-01 00:00:00&#x27;, &#x27;2015-01-01 01:00:00&#x27;,
               &#x27;2015-01-01 02:00:00&#x27;, &#x27;2015-01-01 03:00:00&#x27;,
               &#x27;2015-01-01 04:00:00&#x27;, &#x27;2015-01-01 05:00:00&#x27;,
               &#x27;2015-01-01 06:00:00&#x27;, &#x27;2015-01-01 07:00:00&#x27;,
               &#x27;2015-01-01 08:00:00&#x27;, &#x27;2015-01-01 09:00:00&#x27;,
               &#x27;2015-01-01 10:00:00&#x27;, &#x27;2015-01-01 11:00:00&#x27;,
               &#x27;2015-01-01 12:00:00&#x27;, &#x27;2015-01-01 13:00:00&#x27;,
               &#x27;2015-01-01 14:00:00&#x27;, &#x27;2015-01-01 15:00:00&#x27;,
               &#x27;2015-01-01 16:00:00&#x27;, &#x27;2015-01-01 17:00:00&#x27;,
               &#x27;2015-01-01 18:00:00&#x27;, &#x27;2015-01-01 19:00:00&#x27;,
               &#x27;2015-01-01 20:00:00&#x27;, &#x27;2015-01-01 21:00:00&#x27;,
               &#x27;2015-01-01 22:00:00&#x27;, &#x27;2015-01-01 23:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;valid_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-168e1b6e-577d-494e-8cc3-664880dba80f' class='xr-index-data-in' type='checkbox'/><label for='index-168e1b6e-577d-494e-8cc3-664880dba80f' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 80.0, 79.75,  79.5, 79.25,  79.0, 78.75,  78.5, 78.25,  78.0, 77.75,
       ...
       32.25,  32.0, 31.75,  31.5, 31.25,  31.0, 30.75,  30.5, 30.25,  30.0],
      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=201))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-c863fd45-00b3-443f-a41c-6e0e0657c741' class='xr-index-data-in' type='checkbox'/><label for='index-c863fd45-00b3-443f-a41c-6e0e0657c741' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-10.0, -9.75,  -9.5, -9.25,  -9.0, -8.75,  -8.5, -8.25,  -8.0, -7.75,
       ...
       57.75,  58.0, 58.25,  58.5, 58.75,  59.0, 59.25,  59.5, 59.75,  60.0],
      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=281))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-34a3e94c-2392-4a75-95bd-26d4c01d739d' class='xr-section-summary-in' type='checkbox'  ><label for='section-34a3e94c-2392-4a75-95bd-26d4c01d739d' class='xr-section-summary' >Attributes: <span>(13)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>param :</span></dt><dd>2t</dd><dt><span>paramId :</span></dt><dd>167</dd><dt><span>class :</span></dt><dd>ea</dd><dt><span>stream :</span></dt><dd>oper</dd><dt><span>levtype :</span></dt><dd>sfc</dd><dt><span>type :</span></dt><dd>an</dd><dt><span>expver :</span></dt><dd>0001</dd><dt><span>date :</span></dt><dd>20150101</dd><dt><span>time :</span></dt><dd>0</dd><dt><span>domain :</span></dt><dd>g</dd><dt><span>number :</span></dt><dd>0</dd><dt><span>Conventions :</span></dt><dd>CF-1.8</dd><dt><span>institution :</span></dt><dd>ECMWF</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">era5_xr</span><span class="o">.</span><span class="n">t2m</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;valid_time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original data&#39;</span><span class="p">)</span>
<span class="c1"># Single masked data</span>
<span class="n">single_masked_data</span><span class="o">.</span><span class="n">t2m</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;valid_time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Masked data&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;Masked data&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_spatial_01-era5-masking_7_1.png" src="../../_images/notebooks_spatial_01-era5-masking_7_1.png" />
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">shapes.masks</span></code> applies the features in the geometry object (<code class="docutils literal notranslate"><span class="pre">nuts_data</span></code>) to the data object (<code class="docutils literal notranslate"><span class="pre">era5_data</span></code>). It returns an xarray object with an additional dimension, and coordinate variable, corresponding to the features in the geometry object. By default this is the index of the input geodataframe, in this example the index is just an integer count so it takes the default name <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">masked_data</span> <span class="o">=</span> <span class="n">ekt</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">era5_xr</span><span class="p">,</span> <span class="n">nuts_data</span><span class="p">)</span>
<span class="n">masked_data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 401MB
Dimensions:     (index: 37, valid_time: 24, latitude: 201, longitude: 281)
Coordinates:
  * valid_time  (valid_time) datetime64[ns] 192B 2015-01-01 ... 2015-01-01T23...
  * latitude    (latitude) float64 2kB 80.0 79.75 79.5 79.25 ... 30.5 30.25 30.0
  * longitude   (longitude) float64 2kB -10.0 -9.75 -9.5 ... 59.5 59.75 60.0
  * index       (index) int64 296B 0 1 2 3 4 5 6 7 8 ... 29 30 31 32 33 34 35 36
Data variables:
    t2m         (index, valid_time, latitude, longitude) float64 401MB dask.array&lt;chunksize=(1, 24, 201, 281), meta=np.ndarray&gt;
Attributes: (12/13)
    param:        2t
    paramId:      167
    class:        ea
    stream:       oper
    levtype:      sfc
    type:         an
    ...           ...
    date:         20150101
    time:         0
    domain:       g
    number:       0
    Conventions:  CF-1.8
    institution:  ECMWF</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-a25eebe6-4581-4d76-b03a-5e0f002905a9' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-a25eebe6-4581-4d76-b03a-5e0f002905a9' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>index</span>: 37</li><li><span class='xr-has-index'>valid_time</span>: 24</li><li><span class='xr-has-index'>latitude</span>: 201</li><li><span class='xr-has-index'>longitude</span>: 281</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-de63b428-f3d9-46ee-915d-8a5e855aee40' class='xr-section-summary-in' type='checkbox'  checked><label for='section-de63b428-f3d9-46ee-915d-8a5e855aee40' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>valid_time</span></div><div class='xr-var-dims'>(valid_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2015-01-01 ... 2015-01-01T23:00:00</div><input id='attrs-891da566-1db2-4af4-93f4-ad984b74fbba' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-891da566-1db2-4af4-93f4-ad984b74fbba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2b8a98d1-a54d-462d-be12-bccca34b7cd6' class='xr-var-data-in' type='checkbox'><label for='data-2b8a98d1-a54d-462d-be12-bccca34b7cd6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>valid_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2015-01-01T00:00:00.000000000&#x27;, &#x27;2015-01-01T01:00:00.000000000&#x27;,
       &#x27;2015-01-01T02:00:00.000000000&#x27;, &#x27;2015-01-01T03:00:00.000000000&#x27;,
       &#x27;2015-01-01T04:00:00.000000000&#x27;, &#x27;2015-01-01T05:00:00.000000000&#x27;,
       &#x27;2015-01-01T06:00:00.000000000&#x27;, &#x27;2015-01-01T07:00:00.000000000&#x27;,
       &#x27;2015-01-01T08:00:00.000000000&#x27;, &#x27;2015-01-01T09:00:00.000000000&#x27;,
       &#x27;2015-01-01T10:00:00.000000000&#x27;, &#x27;2015-01-01T11:00:00.000000000&#x27;,
       &#x27;2015-01-01T12:00:00.000000000&#x27;, &#x27;2015-01-01T13:00:00.000000000&#x27;,
       &#x27;2015-01-01T14:00:00.000000000&#x27;, &#x27;2015-01-01T15:00:00.000000000&#x27;,
       &#x27;2015-01-01T16:00:00.000000000&#x27;, &#x27;2015-01-01T17:00:00.000000000&#x27;,
       &#x27;2015-01-01T18:00:00.000000000&#x27;, &#x27;2015-01-01T19:00:00.000000000&#x27;,
       &#x27;2015-01-01T20:00:00.000000000&#x27;, &#x27;2015-01-01T21:00:00.000000000&#x27;,
       &#x27;2015-01-01T22:00:00.000000000&#x27;, &#x27;2015-01-01T23:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>80.0 79.75 79.5 ... 30.5 30.25 30.0</div><input id='attrs-c8194b1d-c9f5-496a-b2a8-1ca26c575f4e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c8194b1d-c9f5-496a-b2a8-1ca26c575f4e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e243d4cf-e578-4f02-bf65-1d7a4e2bc204' class='xr-var-data-in' type='checkbox'><label for='data-e243d4cf-e578-4f02-bf65-1d7a4e2bc204' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([80.  , 79.75, 79.5 , ..., 30.5 , 30.25, 30.  ], shape=(201,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-10.0 -9.75 -9.5 ... 59.75 60.0</div><input id='attrs-212e925c-8f40-4ac0-86bf-a420ddd1184c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-212e925c-8f40-4ac0-86bf-a420ddd1184c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e6700087-7d7d-4c34-a2be-3c1c03bd0999' class='xr-var-data-in' type='checkbox'><label for='data-e6700087-7d7d-4c34-a2be-3c1c03bd0999' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([-10.  ,  -9.75,  -9.5 , ...,  59.5 ,  59.75,  60.  ], shape=(281,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>index</span></div><div class='xr-var-dims'>(index)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 31 32 33 34 35 36</div><input id='attrs-aab33cad-885c-4e0b-9478-9f0b98b716bd' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-aab33cad-885c-4e0b-9478-9f0b98b716bd' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2885dad3-cc06-45a4-abea-f1a4ebbbb61b' class='xr-var-data-in' type='checkbox'><label for='data-2885dad3-cc06-45a4-abea-f1a4ebbbb61b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b18f90ea-3f36-4a00-8240-67eb7a702207' class='xr-section-summary-in' type='checkbox'  checked><label for='section-b18f90ea-3f36-4a00-8240-67eb7a702207' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>t2m</span></div><div class='xr-var-dims'>(index, valid_time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 24, 201, 281), meta=np.ndarray&gt;</div><input id='attrs-8b186577-dcf7-4a63-8089-408f189f526d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8b186577-dcf7-4a63-8089-408f189f526d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3d5defdc-9762-4b51-a567-b236850dd4e8' class='xr-var-data-in' type='checkbox'><label for='data-3d5defdc-9762-4b51-a567-b236850dd4e8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>unknown</dd><dt><span>long_name :</span></dt><dd>2 metre temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>_earthkit :</span></dt><dd>{&#x27;message&#x27;: b&quot;GRIB\x00\x00l\x01\x00\x004\x80b\xff\xff\x80\xa7\x01\x00\x00\x0f\x01\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x02\x04\x010001\x00\x00\x00\x00\x00 \x00\xff\x00\x01\x19\x00\xc9\x018\x80\x80&#x27;\x10\x80\x00u0\x00\xea`\x00\xfa\x00\xfa\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x80\x02D\xb9}n\x00\x007777&quot;, &#x27;bitsPerValue&#x27;: 16}</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 382.65 MiB </td>
                        <td> 10.34 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (37, 24, 201, 281) </td>
                        <td> (1, 24, 201, 281) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 37 chunks in 73 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="412" height="158" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="40" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="40" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="32" y1="0" x2="32" y2="25" />
  <line x1="33" y1="0" x2="33" y2="25" />
  <line x1="34" y1="0" x2="34" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="36" y1="0" x2="36" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="40" y1="0" x2="40" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 40.060598776365545,0.0 40.060598776365545,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="20.030299" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >37</text>
  <text x="60.060599" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,60.060599,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="110" y1="0" x2="132" y2="22" style="stroke-width:2" />
  <line x1="110" y1="85" x2="132" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="110" y1="0" x2="110" y2="85" style="stroke-width:2" />
  <line x1="132" y1="22" x2="132" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="110.0,0.0 132.17971989969394,22.179719899693932 132.17971989969394,108.01601883207827 110.0,85.83629893238434" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="110" y1="0" x2="230" y2="0" style="stroke-width:2" />
  <line x1="132" y1="22" x2="252" y2="22" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="110" y1="0" x2="132" y2="22" style="stroke-width:2" />
  <line x1="230" y1="0" x2="252" y2="22" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="110.0,0.0 230.0,0.0 252.17971989969394,22.179719899693932 132.17971989969394,22.179719899693932" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="132" y1="22" x2="252" y2="22" style="stroke-width:2" />
  <line x1="132" y1="108" x2="252" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="132" y1="22" x2="132" y2="108" style="stroke-width:2" />
  <line x1="252" y1="22" x2="252" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="132.17971989969394,22.179719899693932 252.17971989969394,22.179719899693932 252.17971989969394,108.01601883207827 132.17971989969394,108.01601883207827" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="192.179720" y="128.016019" font-size="1.0rem" font-weight="100" text-anchor="middle" >281</text>
  <text x="272.179720" y="65.097869" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,272.179720,65.097869)">201</text>
  <text x="111.089860" y="116.926159" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,111.089860,116.926159)">24</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-ec5f1a96-df05-4557-a110-e2c9dde60261' class='xr-section-summary-in' type='checkbox'  ><label for='section-ec5f1a96-df05-4557-a110-e2c9dde60261' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>valid_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-16db586d-77db-423e-89fb-66c7c009cce2' class='xr-index-data-in' type='checkbox'/><label for='index-16db586d-77db-423e-89fb-66c7c009cce2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2015-01-01 00:00:00&#x27;, &#x27;2015-01-01 01:00:00&#x27;,
               &#x27;2015-01-01 02:00:00&#x27;, &#x27;2015-01-01 03:00:00&#x27;,
               &#x27;2015-01-01 04:00:00&#x27;, &#x27;2015-01-01 05:00:00&#x27;,
               &#x27;2015-01-01 06:00:00&#x27;, &#x27;2015-01-01 07:00:00&#x27;,
               &#x27;2015-01-01 08:00:00&#x27;, &#x27;2015-01-01 09:00:00&#x27;,
               &#x27;2015-01-01 10:00:00&#x27;, &#x27;2015-01-01 11:00:00&#x27;,
               &#x27;2015-01-01 12:00:00&#x27;, &#x27;2015-01-01 13:00:00&#x27;,
               &#x27;2015-01-01 14:00:00&#x27;, &#x27;2015-01-01 15:00:00&#x27;,
               &#x27;2015-01-01 16:00:00&#x27;, &#x27;2015-01-01 17:00:00&#x27;,
               &#x27;2015-01-01 18:00:00&#x27;, &#x27;2015-01-01 19:00:00&#x27;,
               &#x27;2015-01-01 20:00:00&#x27;, &#x27;2015-01-01 21:00:00&#x27;,
               &#x27;2015-01-01 22:00:00&#x27;, &#x27;2015-01-01 23:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;valid_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-f3469944-ec36-4ceb-97ee-08d1b7e5acca' class='xr-index-data-in' type='checkbox'/><label for='index-f3469944-ec36-4ceb-97ee-08d1b7e5acca' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 80.0, 79.75,  79.5, 79.25,  79.0, 78.75,  78.5, 78.25,  78.0, 77.75,
       ...
       32.25,  32.0, 31.75,  31.5, 31.25,  31.0, 30.75,  30.5, 30.25,  30.0],
      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=201))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-bedcefd4-c6ea-49d2-be24-afcf20034c9e' class='xr-index-data-in' type='checkbox'/><label for='index-bedcefd4-c6ea-49d2-be24-afcf20034c9e' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-10.0, -9.75,  -9.5, -9.25,  -9.0, -8.75,  -8.5, -8.25,  -8.0, -7.75,
       ...
       57.75,  58.0, 58.25,  58.5, 58.75,  59.0, 59.25,  59.5, 59.75,  60.0],
      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=281))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>index</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-caf29460-4d15-474c-9fad-1714ba034d50' class='xr-index-data-in' type='checkbox'/><label for='index-caf29460-4d15-474c-9fad-1714ba034d50' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36],
      dtype=&#x27;int64&#x27;, name=&#x27;index&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-1bfe2778-76cd-4e58-bbf4-d78645b82b2e' class='xr-section-summary-in' type='checkbox'  ><label for='section-1bfe2778-76cd-4e58-bbf4-d78645b82b2e' class='xr-section-summary' >Attributes: <span>(13)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>param :</span></dt><dd>2t</dd><dt><span>paramId :</span></dt><dd>167</dd><dt><span>class :</span></dt><dd>ea</dd><dt><span>stream :</span></dt><dd>oper</dd><dt><span>levtype :</span></dt><dd>sfc</dd><dt><span>type :</span></dt><dd>an</dd><dt><span>expver :</span></dt><dd>0001</dd><dt><span>date :</span></dt><dd>20150101</dd><dt><span>time :</span></dt><dd>0</dd><dt><span>domain :</span></dt><dd>g</dd><dt><span>number :</span></dt><dd>0</dd><dt><span>Conventions :</span></dt><dd>CF-1.8</dd><dt><span>institution :</span></dt><dd>ECMWF</dd></dl></div></li></ul></div></div></div>
</div>
<p>It is possible to specify a column in the geodataframe to use for the new dimension, for example in NUTS the <code class="docutils literal notranslate"><span class="pre">FID</span></code> (= feature id) which contains the two letter identier code for each feature:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">masked_data</span> <span class="o">=</span> <span class="n">ekt</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">era5_xr</span><span class="p">,</span> <span class="n">nuts_data</span><span class="p">,</span> <span class="n">mask_dim</span><span class="o">=</span><span class="s2">&quot;FID&quot;</span><span class="p">)</span>
<span class="n">masked_data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base rgba(0, 0, 0, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, white)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))
  );
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: var(
    --jp-content-font-color0,
    var(--pst-color-text-base, rgba(255, 255, 255, 1))
  );
  --xr-font-color2: var(
    --jp-content-font-color2,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))
  );
  --xr-font-color3: var(
    --jp-content-font-color3,
    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))
  );
  --xr-border-color: var(
    --jp-border-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))
  );
  --xr-disabled-color: var(
    --jp-layout-color3,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))
  );
  --xr-background-color: var(
    --jp-layout-color0,
    var(--pst-color-on-background, #111111)
  );
  --xr-background-color-row-even: var(
    --jp-layout-color1,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))
  );
  --xr-background-color-row-odd: var(
    --jp-layout-color2,
    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))
  );
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
  border: 2px solid transparent !important;
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0) !important;
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  border-color: var(--xr-background-color-row-odd);
  margin-bottom: 0;
  padding-top: 2px;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
  border-color: var(--xr-background-color-row-even);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  border-top: 2px dotted var(--xr-background-color);
  padding-bottom: 20px !important;
  padding-top: 10px !important;
}

.xr-var-attrs-in + label,
.xr-var-data-in + label,
.xr-index-data-in + label {
  padding: 0 1px;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-data > pre,
.xr-index-data > pre,
.xr-var-data > table > tbody > tr {
  background-color: transparent !important;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}

.xr-var-attrs-in:checked + label > .xr-icon-file-text2,
.xr-var-data-in:checked + label > .xr-icon-database,
.xr-index-data-in:checked + label > .xr-icon-database {
  color: var(--xr-font-color0);
  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));
  stroke-width: 0.8px;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 401MB
Dimensions:     (FID: 37, valid_time: 24, latitude: 201, longitude: 281)
Coordinates:
  * valid_time  (valid_time) datetime64[ns] 192B 2015-01-01 ... 2015-01-01T23...
  * latitude    (latitude) float64 2kB 80.0 79.75 79.5 79.25 ... 30.5 30.25 30.0
  * longitude   (longitude) float64 2kB -10.0 -9.75 -9.5 ... 59.5 59.75 60.0
  * FID         (FID) object 296B &#x27;DK&#x27; &#x27;RS&#x27; &#x27;EE&#x27; &#x27;EL&#x27; ... &#x27;CY&#x27; &#x27;CZ&#x27; &#x27;DE&#x27; &#x27;NO&#x27;
Data variables:
    t2m         (FID, valid_time, latitude, longitude) float64 401MB dask.array&lt;chunksize=(1, 24, 201, 281), meta=np.ndarray&gt;
Attributes: (12/13)
    param:        2t
    paramId:      167
    class:        ea
    stream:       oper
    levtype:      sfc
    type:         an
    ...           ...
    date:         20150101
    time:         0
    domain:       g
    number:       0
    Conventions:  CF-1.8
    institution:  ECMWF</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-3c7298b6-37e7-440d-ba12-527ec73f6823' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-3c7298b6-37e7-440d-ba12-527ec73f6823' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>FID</span>: 37</li><li><span class='xr-has-index'>valid_time</span>: 24</li><li><span class='xr-has-index'>latitude</span>: 201</li><li><span class='xr-has-index'>longitude</span>: 281</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-a5085f0b-01a2-4828-82be-76254ac5f1f6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a5085f0b-01a2-4828-82be-76254ac5f1f6' class='xr-section-summary' >Coordinates: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>valid_time</span></div><div class='xr-var-dims'>(valid_time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2015-01-01 ... 2015-01-01T23:00:00</div><input id='attrs-7f8b1b4c-5b48-4a27-b5d1-baf48710a972' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7f8b1b4c-5b48-4a27-b5d1-baf48710a972' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b3e6c7e9-57ac-4dd2-85b3-bb522d71cc0b' class='xr-var-data-in' type='checkbox'><label for='data-b3e6c7e9-57ac-4dd2-85b3-bb522d71cc0b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>time</dd><dt><span>long_name :</span></dt><dd>valid_time</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2015-01-01T00:00:00.000000000&#x27;, &#x27;2015-01-01T01:00:00.000000000&#x27;,
       &#x27;2015-01-01T02:00:00.000000000&#x27;, &#x27;2015-01-01T03:00:00.000000000&#x27;,
       &#x27;2015-01-01T04:00:00.000000000&#x27;, &#x27;2015-01-01T05:00:00.000000000&#x27;,
       &#x27;2015-01-01T06:00:00.000000000&#x27;, &#x27;2015-01-01T07:00:00.000000000&#x27;,
       &#x27;2015-01-01T08:00:00.000000000&#x27;, &#x27;2015-01-01T09:00:00.000000000&#x27;,
       &#x27;2015-01-01T10:00:00.000000000&#x27;, &#x27;2015-01-01T11:00:00.000000000&#x27;,
       &#x27;2015-01-01T12:00:00.000000000&#x27;, &#x27;2015-01-01T13:00:00.000000000&#x27;,
       &#x27;2015-01-01T14:00:00.000000000&#x27;, &#x27;2015-01-01T15:00:00.000000000&#x27;,
       &#x27;2015-01-01T16:00:00.000000000&#x27;, &#x27;2015-01-01T17:00:00.000000000&#x27;,
       &#x27;2015-01-01T18:00:00.000000000&#x27;, &#x27;2015-01-01T19:00:00.000000000&#x27;,
       &#x27;2015-01-01T20:00:00.000000000&#x27;, &#x27;2015-01-01T21:00:00.000000000&#x27;,
       &#x27;2015-01-01T22:00:00.000000000&#x27;, &#x27;2015-01-01T23:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>80.0 79.75 79.5 ... 30.5 30.25 30.0</div><input id='attrs-fea035aa-3393-45ba-a253-69a796b80f1f' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fea035aa-3393-45ba-a253-69a796b80f1f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ee8df46f-2815-4f14-9517-e36eec10a6c4' class='xr-var-data-in' type='checkbox'><label for='data-ee8df46f-2815-4f14-9517-e36eec10a6c4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd></dl></div><div class='xr-var-data'><pre>array([80.  , 79.75, 79.5 , ..., 30.5 , 30.25, 30.  ], shape=(201,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-10.0 -9.75 -9.5 ... 59.75 60.0</div><input id='attrs-2e5aed84-e2ae-4b75-bcf0-71ad6d764333' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2e5aed84-e2ae-4b75-bcf0-71ad6d764333' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c6d1771d-a63d-4af7-9ce8-303d9de32737' class='xr-var-data-in' type='checkbox'><label for='data-c6d1771d-a63d-4af7-9ce8-303d9de32737' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd></dl></div><div class='xr-var-data'><pre>array([-10.  ,  -9.75,  -9.5 , ...,  59.5 ,  59.75,  60.  ], shape=(281,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>FID</span></div><div class='xr-var-dims'>(FID)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;DK&#x27; &#x27;RS&#x27; &#x27;EE&#x27; ... &#x27;CZ&#x27; &#x27;DE&#x27; &#x27;NO&#x27;</div><input id='attrs-01e28fbb-2609-477c-a4d7-fa744a54173c' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-01e28fbb-2609-477c-a4d7-fa744a54173c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-df07796f-4888-4183-ad21-92bf0720f2a0' class='xr-var-data-in' type='checkbox'><label for='data-df07796f-4888-4183-ad21-92bf0720f2a0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;DK&#x27;, &#x27;RS&#x27;, &#x27;EE&#x27;, &#x27;EL&#x27;, &#x27;ES&#x27;, &#x27;FI&#x27;, &#x27;FR&#x27;, &#x27;HR&#x27;, &#x27;HU&#x27;, &#x27;IE&#x27;, &#x27;IS&#x27;, &#x27;IT&#x27;,
       &#x27;LI&#x27;, &#x27;LT&#x27;, &#x27;LU&#x27;, &#x27;LV&#x27;, &#x27;ME&#x27;, &#x27;MK&#x27;, &#x27;MT&#x27;, &#x27;SE&#x27;, &#x27;SI&#x27;, &#x27;SK&#x27;, &#x27;TR&#x27;, &#x27;UK&#x27;,
       &#x27;NL&#x27;, &#x27;PL&#x27;, &#x27;PT&#x27;, &#x27;RO&#x27;, &#x27;AL&#x27;, &#x27;AT&#x27;, &#x27;BE&#x27;, &#x27;BG&#x27;, &#x27;CH&#x27;, &#x27;CY&#x27;, &#x27;CZ&#x27;, &#x27;DE&#x27;,
       &#x27;NO&#x27;], dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3a024ab2-0a72-41b1-8d80-98d23c570d23' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3a024ab2-0a72-41b1-8d80-98d23c570d23' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>t2m</span></div><div class='xr-var-dims'>(FID, valid_time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(1, 24, 201, 281), meta=np.ndarray&gt;</div><input id='attrs-8e2ab6b8-d928-4706-a487-193d95db4f69' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8e2ab6b8-d928-4706-a487-193d95db4f69' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-bacebb32-9e08-447a-b79c-ecc4c1b166f3' class='xr-var-data-in' type='checkbox'><label for='data-bacebb32-9e08-447a-b79c-ecc4c1b166f3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>unknown</dd><dt><span>long_name :</span></dt><dd>2 metre temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>_earthkit :</span></dt><dd>{&#x27;message&#x27;: b&quot;GRIB\x00\x00l\x01\x00\x004\x80b\xff\xff\x80\xa7\x01\x00\x00\x0f\x01\x01\x00\x00\x01\x00\x00\x00\x00\x00\x00\x15\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x17\x02\x04\x010001\x00\x00\x00\x00\x00 \x00\xff\x00\x01\x19\x00\xc9\x018\x80\x80&#x27;\x10\x80\x00u0\x00\xea`\x00\xfa\x00\xfa\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x80\x02D\xb9}n\x00\x007777&quot;, &#x27;bitsPerValue&#x27;: 16}</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th> Bytes </th>
                        <td> 382.65 MiB </td>
                        <td> 10.34 MiB </td>
                    </tr>

                    <tr>
                        <th> Shape </th>
                        <td> (37, 24, 201, 281) </td>
                        <td> (1, 24, 201, 281) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 37 chunks in 73 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float64 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="412" height="158" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="40" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="40" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="1" y1="0" x2="1" y2="25" />
  <line x1="2" y1="0" x2="2" y2="25" />
  <line x1="3" y1="0" x2="3" y2="25" />
  <line x1="4" y1="0" x2="4" y2="25" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="6" y1="0" x2="6" y2="25" />
  <line x1="8" y1="0" x2="8" y2="25" />
  <line x1="9" y1="0" x2="9" y2="25" />
  <line x1="10" y1="0" x2="10" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="14" y1="0" x2="14" y2="25" />
  <line x1="16" y1="0" x2="16" y2="25" />
  <line x1="17" y1="0" x2="17" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="19" y1="0" x2="19" y2="25" />
  <line x1="20" y1="0" x2="20" y2="25" />
  <line x1="21" y1="0" x2="21" y2="25" />
  <line x1="22" y1="0" x2="22" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="25" y1="0" x2="25" y2="25" />
  <line x1="27" y1="0" x2="27" y2="25" />
  <line x1="28" y1="0" x2="28" y2="25" />
  <line x1="29" y1="0" x2="29" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="32" y1="0" x2="32" y2="25" />
  <line x1="33" y1="0" x2="33" y2="25" />
  <line x1="34" y1="0" x2="34" y2="25" />
  <line x1="35" y1="0" x2="35" y2="25" />
  <line x1="36" y1="0" x2="36" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="40" y1="0" x2="40" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 40.060598776365545,0.0 40.060598776365545,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="20.030299" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >37</text>
  <text x="60.060599" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,60.060599,12.706308)">1</text>


  <!-- Horizontal lines -->
  <line x1="110" y1="0" x2="132" y2="22" style="stroke-width:2" />
  <line x1="110" y1="85" x2="132" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="110" y1="0" x2="110" y2="85" style="stroke-width:2" />
  <line x1="132" y1="22" x2="132" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="110.0,0.0 132.17971989969394,22.179719899693932 132.17971989969394,108.01601883207827 110.0,85.83629893238434" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="110" y1="0" x2="230" y2="0" style="stroke-width:2" />
  <line x1="132" y1="22" x2="252" y2="22" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="110" y1="0" x2="132" y2="22" style="stroke-width:2" />
  <line x1="230" y1="0" x2="252" y2="22" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="110.0,0.0 230.0,0.0 252.17971989969394,22.179719899693932 132.17971989969394,22.179719899693932" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Horizontal lines -->
  <line x1="132" y1="22" x2="252" y2="22" style="stroke-width:2" />
  <line x1="132" y1="108" x2="252" y2="108" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="132" y1="22" x2="132" y2="108" style="stroke-width:2" />
  <line x1="252" y1="22" x2="252" y2="108" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="132.17971989969394,22.179719899693932 252.17971989969394,22.179719899693932 252.17971989969394,108.01601883207827 132.17971989969394,108.01601883207827" style="fill:#ECB172A0;stroke-width:0"/>

  <!-- Text -->
  <text x="192.179720" y="128.016019" font-size="1.0rem" font-weight="100" text-anchor="middle" >281</text>
  <text x="272.179720" y="65.097869" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(-90,272.179720,65.097869)">201</text>
  <text x="111.089860" y="116.926159" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(45,111.089860,116.926159)">24</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-def88375-b2d3-4411-9048-f7f522e8a51d' class='xr-section-summary-in' type='checkbox'  ><label for='section-def88375-b2d3-4411-9048-f7f522e8a51d' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>valid_time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b923ed32-628b-44de-91f5-cb8654fdb199' class='xr-index-data-in' type='checkbox'/><label for='index-b923ed32-628b-44de-91f5-cb8654fdb199' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2015-01-01 00:00:00&#x27;, &#x27;2015-01-01 01:00:00&#x27;,
               &#x27;2015-01-01 02:00:00&#x27;, &#x27;2015-01-01 03:00:00&#x27;,
               &#x27;2015-01-01 04:00:00&#x27;, &#x27;2015-01-01 05:00:00&#x27;,
               &#x27;2015-01-01 06:00:00&#x27;, &#x27;2015-01-01 07:00:00&#x27;,
               &#x27;2015-01-01 08:00:00&#x27;, &#x27;2015-01-01 09:00:00&#x27;,
               &#x27;2015-01-01 10:00:00&#x27;, &#x27;2015-01-01 11:00:00&#x27;,
               &#x27;2015-01-01 12:00:00&#x27;, &#x27;2015-01-01 13:00:00&#x27;,
               &#x27;2015-01-01 14:00:00&#x27;, &#x27;2015-01-01 15:00:00&#x27;,
               &#x27;2015-01-01 16:00:00&#x27;, &#x27;2015-01-01 17:00:00&#x27;,
               &#x27;2015-01-01 18:00:00&#x27;, &#x27;2015-01-01 19:00:00&#x27;,
               &#x27;2015-01-01 20:00:00&#x27;, &#x27;2015-01-01 21:00:00&#x27;,
               &#x27;2015-01-01 22:00:00&#x27;, &#x27;2015-01-01 23:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;valid_time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2d92189e-7e9a-4307-aa06-fe4f42a94773' class='xr-index-data-in' type='checkbox'/><label for='index-2d92189e-7e9a-4307-aa06-fe4f42a94773' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([ 80.0, 79.75,  79.5, 79.25,  79.0, 78.75,  78.5, 78.25,  78.0, 77.75,
       ...
       32.25,  32.0, 31.75,  31.5, 31.25,  31.0, 30.75,  30.5, 30.25,  30.0],
      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;, length=201))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-b34af12c-c7b6-4017-b8f9-d78d902cfbf1' class='xr-index-data-in' type='checkbox'/><label for='index-b34af12c-c7b6-4017-b8f9-d78d902cfbf1' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-10.0, -9.75,  -9.5, -9.25,  -9.0, -8.75,  -8.5, -8.25,  -8.0, -7.75,
       ...
       57.75,  58.0, 58.25,  58.5, 58.75,  59.0, 59.25,  59.5, 59.75,  60.0],
      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;, length=281))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>FID</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-33fbc4a0-6486-4f66-91e7-3af4023687e8' class='xr-index-data-in' type='checkbox'/><label for='index-33fbc4a0-6486-4f66-91e7-3af4023687e8' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;DK&#x27;, &#x27;RS&#x27;, &#x27;EE&#x27;, &#x27;EL&#x27;, &#x27;ES&#x27;, &#x27;FI&#x27;, &#x27;FR&#x27;, &#x27;HR&#x27;, &#x27;HU&#x27;, &#x27;IE&#x27;, &#x27;IS&#x27;, &#x27;IT&#x27;,
       &#x27;LI&#x27;, &#x27;LT&#x27;, &#x27;LU&#x27;, &#x27;LV&#x27;, &#x27;ME&#x27;, &#x27;MK&#x27;, &#x27;MT&#x27;, &#x27;SE&#x27;, &#x27;SI&#x27;, &#x27;SK&#x27;, &#x27;TR&#x27;, &#x27;UK&#x27;,
       &#x27;NL&#x27;, &#x27;PL&#x27;, &#x27;PT&#x27;, &#x27;RO&#x27;, &#x27;AL&#x27;, &#x27;AT&#x27;, &#x27;BE&#x27;, &#x27;BG&#x27;, &#x27;CH&#x27;, &#x27;CY&#x27;, &#x27;CZ&#x27;, &#x27;DE&#x27;,
       &#x27;NO&#x27;],
      dtype=&#x27;object&#x27;, name=&#x27;FID&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-9770756c-cb09-430b-ab2f-20f96cae008c' class='xr-section-summary-in' type='checkbox'  ><label for='section-9770756c-cb09-430b-ab2f-20f96cae008c' class='xr-section-summary' >Attributes: <span>(13)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>param :</span></dt><dd>2t</dd><dt><span>paramId :</span></dt><dd>167</dd><dt><span>class :</span></dt><dd>ea</dd><dt><span>stream :</span></dt><dd>oper</dd><dt><span>levtype :</span></dt><dd>sfc</dd><dt><span>type :</span></dt><dd>an</dd><dt><span>expver :</span></dt><dd>0001</dd><dt><span>date :</span></dt><dd>20150101</dd><dt><span>time :</span></dt><dd>0</dd><dt><span>domain :</span></dt><dd>g</dd><dt><span>number :</span></dt><dd>0</dd><dt><span>Conventions :</span></dt><dd>CF-1.8</dd><dt><span>institution :</span></dt><dd>ECMWF</dd></dl></div></li></ul></div></div></div>
</div>
<p>Here we demonstrate what we have done by plotting the masked objects we have produced</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">era5_xr</span><span class="o">.</span><span class="n">t2m</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;valid_time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original data&#39;</span><span class="p">)</span>
<span class="n">masked_data</span><span class="o">.</span><span class="n">t2m</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">FID</span><span class="o">=</span><span class="s1">&#39;DE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;valid_time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Masked for Germany&#39;</span><span class="p">)</span>
<span class="n">germany_data</span> <span class="o">=</span> <span class="n">masked_data</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">FID</span><span class="o">=</span><span class="s1">&#39;DE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;latitude&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;longitude&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="n">germany_data</span><span class="o">.</span><span class="n">t2m</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;valid_time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Masked Germany Zoom&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5, 1.0, &#39;Masked Germany Zoom&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_spatial_01-era5-masking_13_1.png" src="../../_images/notebooks_spatial_01-era5-masking_13_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Spatial examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="02-era5-reduce-data-over-geometries.html" class="btn btn-neutral float-right" title="Reducing data-cubes using geometry objects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2025, European Centre for Medium-Range Weather Forecasts (ECMWF).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>