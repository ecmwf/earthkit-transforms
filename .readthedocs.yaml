# .readthedocs.yaml
# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details
version: 2

build:
  os: ubuntu-22.04
  tools:
    python: "3.11"  # still needed for RTD to know which Python

# Use Conda environment
conda:
  environment: ci/combined-environment.yml

# Optional: install extra Python packages via pip
# python:
#   install:
#     - method: pip
#       path: .
#       extra_requirements:
#         - docs

sphinx:
  configuration: docs/conf.py

jobs:
  pre_build:
    - micromamba install -y -c conda-forge conda-merge
    - conda-merge ci/environment-ci.yml environment.yml > ci/combined-environment.yml